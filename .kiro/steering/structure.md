# Project Structure

## Repository Layout

```
/
├── frontend/          # React + TypeScript + Vite frontend
├── backend/           # Python + FastAPI backend
├── docs/              # Documentation (including Suno API docs)
├── user-need/         # Product requirements and specifications
├── report/            # Generated reports (lint, test, analysis)
├── scripts/           # Development and utility scripts
└── README.md          # Main project documentation
```

## Frontend Structure

```
frontend/
├── src/
│   ├── api/           # API client
│   │   ├── client.ts  # Axios instance + interceptors
│   │   └── lyrics.ts  # Lyrics API calls
│   ├── assets/        # Static assets
│   ├── components/    # React components
│   │   ├── ui/        # shadcn/ui (button, card, input, toggle, etc.)
│   │   ├── ErrorBoundary.tsx
│   │   ├── GenerateButton.tsx
│   │   ├── LoadingProgress.tsx
│   │   ├── RateLimitIndicator.tsx
│   │   ├── SearchToggle.tsx
│   │   └── TextInputArea.tsx
│   ├── hooks/         # Custom hooks
│   │   ├── useAuth.ts    # Firebase auth hook
│   │   └── useLyrics.ts  # Lyrics generation hook
│   ├── lib/           # Utilities
│   │   ├── firebase.ts   # Firebase config
│   │   ├── toast-utils.ts # Toast notifications
│   │   └── utils.ts      # cn() and helpers
│   ├── pages/         # Page components
│   │   └── TextInputPage.tsx
│   ├── stores/        # Zustand stores
│   │   └── textInputStore.ts
│   ├── App.tsx        # Main app
│   ├── main.tsx       # Entry point
│   └── index.css      # Global styles
├── tests/             # Jest tests
└── public/            # Public files
```

## Backend Structure

```
backend/
├── app/
│   ├── api/           # API route handlers
│   │   └── lyrics.py  # Lyrics generation endpoints
│   ├── core/          # Core configuration
│   │   ├── auth.py    # Firebase authentication
│   │   ├── firebase.py # Firebase initialization
│   │   └── logging.py # Logging configuration
│   ├── models/        # Pydantic models
│   │   ├── lyrics.py  # Lyrics request/response models
│   │   └── user.py    # User models
│   ├── services/      # Business logic
│   │   ├── ai_pipeline.py    # LangGraph text → lyrics
│   │   ├── suno_client.py    # Suno API integration
│   │   ├── google_search.py  # Google Search grounding
│   │   ├── cache.py          # Content caching
│   │   └── rate_limiter.py   # Rate limiting
│   ├── utils/         # Helper utilities
│   └── main.py        # FastAPI entry point
├── tests/             # pytest tests
├── pyproject.toml     # Poetry configuration
└── poetry.lock        # Locked dependencies
```

## Configuration Files

### Frontend
- `package.json` - Dependencies and scripts
- `vite.config.ts` - Vite build configuration
- `tsconfig.json` - TypeScript configuration
- `tailwind.config.js` - TailwindCSS configuration
- `jest.config.js` - Jest test configuration
- `eslint.config.js` - ESLint rules
- `oxlint.json` - Oxlint configuration
- `.env.example` - Environment variable template

### Backend
- `pyproject.toml` - Poetry dependencies and pytest config
- `.env.example` - Environment variable template

## Key Conventions

### Frontend
- Use functional components with hooks
- Store state in Zustand stores (not component state for shared data)
- Use TanStack Query for server state management
- Place reusable UI components in `components/ui/`
- Place page-level components in `pages/`
- Use `@/` path alias for imports from `src/`

### Backend
- Follow FastAPI best practices with async/await
- Use Pydantic models for request/response validation
- Place business logic in `services/`
- Keep route handlers thin, delegate to services
- Use dependency injection for shared resources
- Write async functions for I/O operations

### Testing
- Frontend: Jest + React Testing Library in `tests/`
- Backend: pytest with async support in `tests/`
- Aim for high coverage on critical paths
- Mock external API calls (Suno, Google Search)

### Documentation
- API docs auto-generated by FastAPI
- Suno API documentation in `docs/suno-api/`
- Product requirements in `user-need/`

### Reports
- All generated reports (lint, test, analysis) go in `./report/` folder
- Do NOT create markdown summary reports after task completion
- Output results directly in chat instead
